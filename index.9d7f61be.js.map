{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,uCAGAC,SAASC,iBAAiB,oBAAoB,WAC5C,IAAMC,EAAiBF,SAASG,eAAe,mBACzCC,EAAaJ,SAASG,eAAe,cAE3C,GAAKD,GAAmBE,EAAxB,CAOA,IACIC,EAAc,EA4FlBC,EAAaD,E,MAnGXE,QAAQC,MACN,kE,SAQWF,EAAaG,G,OAAbC,EAAYC,MAAAC,KAAAC,U,UAAZH,I,OAAAA,EAAfI,EAAAhB,EAAA,CAAAgB,EAAAC,GAAAC,MAAA,SAAAC,EAA4BR,G,IAElBS,EACAC,EAIDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAMC,EACHC,E,4FANe,EAAAC,EAAAC,kBAAiBnB,G,OAAlCS,EAAQW,EAAAC,KACRX,EAAQD,EAASa,QACvBxB,QAAQyB,IAAIb,GACZjB,EAAe+B,UAAY,GAEtBb,GAAU,EAAVC,GAAU,EAAVC,OAAUY,E,SAAVX,EAAcJ,EAAKgB,OAAAC,Y,WAAnBhB,GAAAI,EAAAD,EAAUc,QAAAC,KAAA,C,uBAAJb,EAAND,EAAUe,M,WACc,EAAAC,EAAAC,oBAAmBhB,G,QAAxCC,EAAYG,EAAAC,KAClB5B,EAAewC,mBAAmB,YAAahB,G,QAF5CN,GAAU,E,0EAAVC,GAAU,EAAVC,EAAUO,EAAAc,G,4BAAVvB,GAAU,MAAVG,EAAUqB,QAAVrB,EAAUqB,S,sBAAVvB,EAAU,C,sBAAVC,E,gEAMLuB,EADmB3B,EAAS4B,a,kDAG5BvC,QAAQC,MAAM,2CAA0CqB,EAAAkB,I,oFAfjCpC,MAAAC,KAAAC,U,CAmB3B,SAASgC,EAAiBG,G,kBA+BtB,IAAMC,EAAWjD,SAASkD,cAAc,MACxCD,EAASE,UAAUC,IAAI,aACnBC,IAAMhD,GACR4C,EAASE,UAAUC,IAAI,UAGzB,IAAME,EAAWtD,SAASkD,cAAc,KACxCI,EAASH,UAAUC,IAAI,aACvBE,EAASC,KAAO,IAChBD,EAASE,YAAcH,EACvBC,EAASrD,iBAAiB,SAAS,SAACwD,GAClCA,EAAMC,iBAENpD,EADAD,EAAcgD,E,IAIhBJ,EAASU,YAAYL,GACrBlD,EAAWuD,YAAYV,E,EA/CzB7C,EAAW6B,UAAY,GAEvB,IAEI2B,EAAYvD,EAFE,EAGdwD,EAAUxD,EAHI,EAKlBuD,EAAYE,KAAKC,IAAIH,EAAW,GAChCC,EAAUC,KAAKE,IAAIH,EAASb,GAE5B,IAAMiB,EAAmBjE,SAASkD,cAAc,MAChDe,EAAiBd,UAAUC,IAAI,aACX,IAAhB/C,GACF4D,EAAiBd,UAAUC,IAAI,YAEjC,IAAMc,EAAmBlE,SAASkD,cAAc,KAChDgB,EAAiBf,UAAUC,IAAI,aAC/Bc,EAAiBX,KAAO,IACxBW,EAAiBV,YAAc,IAC/BU,EAAiBjE,iBAAiB,SAAS,SAACwD,GAC1CA,EAAMC,iBACFrD,EAAc,GAEhBC,IADAD,E,IAIJ4D,EAAiBN,YAAYO,GAC7B9D,EAAWuD,YAAYM,GAEvB,IAAK,IAAIE,EAAIP,EAAWO,GAAKN,EAASM,IAAGC,EAAAD,GAqBzC,IAAME,EAAerE,SAASkD,cAAc,MAC5CmB,EAAalB,UAAUC,IAAI,aACvB/C,IAAgB2C,GAClBqB,EAAalB,UAAUC,IAAI,YAE7B,IAAMkB,EAAetE,SAASkD,cAAc,KAC5CoB,EAAanB,UAAUC,IAAI,aAC3BkB,EAAaf,KAAO,IACpBe,EAAad,YAAc,IAC3Bc,EAAarE,iBAAiB,SAAS,SAACwD,GACtCA,EAAMC,iBACFrD,EAAc2C,GAEhB1C,IADAD,E,IAIJgE,EAAaV,YAAYW,GACzBlE,EAAWuD,YAAYU,E","sources":["src/scripts/pagination.mjs"],"sourcesContent":["import { getTrendingFilms } from './get-trending';\nimport { makeSingleFilmTile } from './make_single_tile';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const filmsContainer = document.getElementById('films-container');\n  const pagination = document.getElementById('pagination');\n\n  if (!filmsContainer || !pagination) {\n    console.error(\n      'Cannot find elements with id \"films-container\" or \"pagination\"'\n    );\n    return;\n  }\n\n  const pageSize = 20;\n  let currentPage = 1;\n\n  async function displayFilms(page) {\n    try {\n      const response = await getTrendingFilms(page);\n      const films = response.results;\n      console.log(films);\n      filmsContainer.innerHTML = '';\n\n      for (const film of films) {\n        const filmTileHTML = await makeSingleFilmTile(film);\n        filmsContainer.insertAdjacentHTML('beforeend', filmTileHTML);\n      }\n\n      const totalPages = response.total_pages;\n      createPagination(totalPages);\n    } catch (error) {\n      console.error('Wystąpił błąd podczas pobierania danych:', error);\n    }\n  }\n\n  function createPagination(totalPages) {\n    pagination.innerHTML = '';\n\n    const pageRange = 2;\n\n    let startPage = currentPage - pageRange;\n    let endPage = currentPage + pageRange;\n\n    startPage = Math.max(startPage, 1);\n    endPage = Math.min(endPage, totalPages);\n\n    const previousPageItem = document.createElement('li');\n    previousPageItem.classList.add('page-item');\n    if (currentPage === 1) {\n      previousPageItem.classList.add('disabled');\n    }\n    const previousPageLink = document.createElement('a');\n    previousPageLink.classList.add('page-link');\n    previousPageLink.href = '#';\n    previousPageLink.textContent = '<';\n    previousPageLink.addEventListener('click', (event) => {\n      event.preventDefault();\n      if (currentPage > 1) {\n        currentPage--;\n        displayFilms(currentPage);\n      }\n    });\n    previousPageItem.appendChild(previousPageLink);\n    pagination.appendChild(previousPageItem);\n\n    for (let i = startPage; i <= endPage; i++) {\n      const pageItem = document.createElement('li');\n      pageItem.classList.add('page-item');\n      if (i === currentPage) {\n        pageItem.classList.add('active');\n      }\n\n      const pageLink = document.createElement('a');\n      pageLink.classList.add('page-link');\n      pageLink.href = '#';\n      pageLink.textContent = i;\n      pageLink.addEventListener('click', (event) => {\n        event.preventDefault();\n        currentPage = i;\n        displayFilms(currentPage);\n      });\n\n      pageItem.appendChild(pageLink);\n      pagination.appendChild(pageItem);\n    }\n\n    const nextPageItem = document.createElement('li');\n    nextPageItem.classList.add('page-item');\n    if (currentPage === totalPages) {\n      nextPageItem.classList.add('disabled');\n    }\n    const nextPageLink = document.createElement('a');\n    nextPageLink.classList.add('page-link');\n    nextPageLink.href = '#';\n    nextPageLink.textContent = '>';\n    nextPageLink.addEventListener('click', (event) => {\n      event.preventDefault();\n      if (currentPage < totalPages) {\n        currentPage++;\n        displayFilms(currentPage);\n      }\n    });\n    nextPageItem.appendChild(nextPageLink);\n    pagination.appendChild(nextPageItem);\n  }\n\n  displayFilms(currentPage);\n});\n"],"names":["$bpxeT","parcelRequire","document","addEventListener","filmsContainer","getElementById","pagination","currentPage","displayFilms","console","error","page","_displayFilms","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","response","films","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","film","filmTileHTML","$9fbQx","getTrendingFilms","_ctx","sent","results","log","innerHTML","undefined","Symbol","iterator","next","done","value","$xTqOg","makeSingleFilmTile","insertAdjacentHTML","t0","return","createPagination","total_pages","t1","totalPages","pageItem","createElement","classList","add","i","pageLink","href","textContent","event","preventDefault","appendChild","startPage","endPage","Math","max","min","previousPageItem","previousPageLink","i1","_loop","nextPageItem","nextPageLink"],"version":3,"file":"index.9d7f61be.js.map"}