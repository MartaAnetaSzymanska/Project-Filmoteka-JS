{"mappings":"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","sources":["src/scripts/library.mjs"],"sourcesContent":["import axios from \"axios\";\nimport { Notify } from \"notiflix\";\nimport { apiKey } from \"./make_single_tile.mjs\";\nimport { makeSingleFilmTile } from \"./make_single_tile.mjs\";\n\nconst watchedBtn = document.querySelector(\".watched-btn\");\nconst queueBtn = document.querySelector(\".queue-btn\");\n\nasync function getFilmDetails(filmId) {\n    try {\n      const response = await axios.get(\n        `https://api.themoviedb.org/3/movie/${filmId}?api_key=${apiKey}`\n      );\n      return response.data;\n    } catch (error) {\n      Notify.failure('Wystąpił błąd podczas pobierania szczegółów filmu.');\n      console.error('Błąd podczas pobierania szczegółów filmu:', error);\n      return null;\n    }\n  }\n\nconst watchArr = JSON.parse(localStorage.getItem('watchedFilms'));\nconst queueArr = JSON.parse(localStorage.getItem('queueFilms'));\n\ndocument.addEventListener(\"DOMContentLoaded\", async () => {\n    const gallery = document.querySelector(\".movies-gallery\");\n    gallery.innerHTML = \"\";\n    watchedBtn.classList.add(\"active-btn\");\n    for (const element of watchArr) {\n      const filmDetails = await getFilmDetails(element);\n      if (filmDetails) {\n          const filmTile = await makeSingleFilmTile(filmDetails);\n          gallery.innerHTML += filmTile;\n      }\n  }\n\n    if (!gallery) {\n        console.error(\"Target container not found.\");\n        return;\n    }\n    watchedBtn.addEventListener(\"click\", async () => {\n      gallery.innerHTML = \"\";\n      queueBtn.classList.remove(\"active-btn\");\n      watchedBtn.classList.add(\"active-btn\");\n      for (const element of watchArr) {\n          const filmDetails = await getFilmDetails(element);\n          if (filmDetails) {\n              const filmTile = await makeSingleFilmTile(filmDetails);\n              gallery.innerHTML += filmTile;\n          }\n      }\n  });\n  queueBtn.addEventListener(\"click\", async () => {\n    gallery.innerHTML = \"\";\n    watchedBtn.classList.remove(\"active-btn\");\n    queueBtn.classList.add(\"active-btn\");\n    for (const element of queueArr) {\n        const filmDetails = await getFilmDetails(element);\n        if (filmDetails) {\n            const filmTile = await makeSingleFilmTile(filmDetails);\n            gallery.innerHTML += filmTile;\n        }\n    }\n  });\n});"],"names":["$bpxeT","parcelRequire","$098fa886240a5a9a$var$watchedBtn","document","querySelector","$098fa886240a5a9a$var$queueBtn","$098fa886240a5a9a$var$getFilmDetails","filmId","$098fa886240a5a9a$var$_getFilmDetails","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","response","$dIxxU","default","get","concat","$xTqOg","apiKey","_ctx","sent","data","$ejkSG","Notify","failure","console","error","t0","$098fa886240a5a9a$var$watchArr","JSON","parse","localStorage","getItem","$098fa886240a5a9a$var$queueArr","addEventListener","_callee1","gallery","_iteratorNormalCompletion1","_didIteratorError1","_iteratorError1","_iterator1","_step1","element1","filmDetails1","filmTile1","innerHTML","classList","add","undefined","Symbol","iterator","next","done","value","_ctx1","makeSingleFilmTile","return","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","element","filmDetails","filmTile","remove"],"version":3,"file":"library.c6e5df64.js.map"}