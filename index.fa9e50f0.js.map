{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,uCAGMC,EAAiBC,SAASC,eAAe,mBACzCC,EAAaF,SAASC,eAAe,cAGvCE,EAAc,E,SAEHC,EAAaC,G,OAAbC,EAAYC,MAAAC,KAAAC,U,UAAZH,I,OAAAA,EAAfI,EAAAb,EAAA,CAAAa,EAAAC,GAAAC,MAAA,SAAAC,EAA4BR,G,IAElBS,EACAC,EAIDC,EAAAC,EAAAC,EAAAC,EAAAC,EAAMC,EACHC,E,4FANe,EAAAC,EAAAC,kBAAiBnB,G,OAAlCS,EAAQW,EAAAC,KACRX,EAAQD,EAASa,QACvBC,QAAQC,IAAId,GACZhB,EAAe+B,UAAY,GAEtBd,GAAU,EAAVC,GAAU,EAAVC,OAAUa,E,SAAVZ,EAAcJ,EAAKiB,OAAAC,Y,WAAnBjB,GAAAI,EAAAD,EAAUe,QAAAC,KAAA,C,uBAAJd,EAAND,EAAUgB,M,WACc,EAAAC,EAAAC,oBAAmBjB,G,QAAxCC,EAAYG,EAAAC,KAClB3B,EAAewC,mBAAmB,YAAajB,G,QAF5CN,GAAU,E,0EAAVC,GAAU,EAAVC,EAAUO,EAAAe,G,4BAAVxB,GAAU,MAAVG,EAAUsB,QAAVtB,EAAUsB,S,sBAAVxB,EAAU,C,sBAAVC,E,gEAMLwB,EADmB5B,EAAS6B,a,kDAG5Bf,QAAQgB,MAAM,2CAA0CnB,EAAAoB,I,oFAfjCtC,MAAAC,KAAAC,U,CAmB3B,SAASiC,EAAiBI,G,kBAgCtB,IAAMC,EAAW/C,SAASgD,cAAc,MACxCD,EAASE,UAAUC,IAAI,aACnBC,IAAMhD,GACR4C,EAASE,UAAUC,IAAI,UAGzB,IAAME,EAAWpD,SAASgD,cAAc,KACxCI,EAASH,UAAUC,IAAI,aACvBE,EAASC,KAAO,IAChBD,EAASE,YAAcH,EACvBC,EAASG,iBAAiB,SAAS,WAEjCnD,EADAD,EAAcgD,E,IAIhBJ,EAASS,YAAYJ,GACrBlD,EAAWsD,YAAYT,E,EA/CzB7C,EAAW4B,UAAY,GAEvB,IAEI2B,EAAYtD,EAFE,EAGduD,EAAUvD,EAHI,EAKlBsD,EAAYE,KAAKC,IAAIH,EAAW,GAChCC,EAAUC,KAAKE,IAAIH,EAASZ,GAG5B,IAAMgB,EAAmB9D,SAASgD,cAAc,MAChDc,EAAiBb,UAAUC,IAAI,aACX,IAAhB/C,GACF2D,EAAiBb,UAAUC,IAAI,YAEjC,IAAMa,EAAmB/D,SAASgD,cAAc,KAChDe,EAAiBd,UAAUC,IAAI,aAC/Ba,EAAiBV,KAAO,IACxBU,EAAiBT,YAAc,IAC/BS,EAAiBR,iBAAiB,SAAS,WACrCpD,EAAc,GAEhBC,IADAD,E,IAIJ2D,EAAiBN,YAAYO,GAC7B7D,EAAWsD,YAAYM,GAGvB,IAAK,IAAIE,EAAIP,EAAWO,GAAKN,EAASM,IAAGC,EAAAD,GAqBzC,IAAME,EAAelE,SAASgD,cAAc,MAC5CkB,EAAajB,UAAUC,IAAI,aACvB/C,IAAgB2C,GAClBoB,EAAajB,UAAUC,IAAI,YAE7B,IAAMiB,EAAenE,SAASgD,cAAc,KAC5CmB,EAAalB,UAAUC,IAAI,aAC3BiB,EAAad,KAAO,IACpBc,EAAab,YAAc,IAC3Ba,EAAaZ,iBAAiB,SAAS,WACjCpD,EAAc2C,GAEhB1C,IADAD,E,IAIJ+D,EAAaV,YAAYW,GACzBjE,EAAWsD,YAAYU,E,CAGzB9D,EAAaD,E","sources":["src/scripts/pagination.mjs"],"sourcesContent":["import { getTrendingFilms } from './get-trending';\nimport { makeSingleFilmTile } from './make_single_tile.mjs';\n\nconst filmsContainer = document.getElementById('films-container');\nconst pagination = document.getElementById('pagination');\n\nconst pageSize = 10;\nlet currentPage = 1;\n\nasync function displayFilms(page) {\n  try {\n    const response = await getTrendingFilms(page);\n    const films = response.results;\n    console.log(films);\n    filmsContainer.innerHTML = '';\n\n    for (const film of films) {\n      const filmTileHTML = await makeSingleFilmTile(film);\n      filmsContainer.insertAdjacentHTML('beforeend', filmTileHTML);\n    }\n\n    const totalPages = response.total_pages;\n    createPagination(totalPages);\n  } catch (error) {\n    console.error('Wystąpił błąd podczas pobierania danych:', error);\n  }\n}\n\nfunction createPagination(totalPages) {\n  pagination.innerHTML = ''; // Wyczyści poprzednią paginację\n\n  const pageRange = 3; // Zakres numerów stron do wyświetlenia\n\n  let startPage = currentPage - pageRange;\n  let endPage = currentPage + pageRange;\n\n  startPage = Math.max(startPage, 1);\n  endPage = Math.min(endPage, totalPages);\n\n  // Dodaj strzałkę \"Poprzednia\"\n  const previousPageItem = document.createElement('li');\n  previousPageItem.classList.add('page-item');\n  if (currentPage === 1) {\n    previousPageItem.classList.add('disabled');\n  }\n  const previousPageLink = document.createElement('a');\n  previousPageLink.classList.add('page-link');\n  previousPageLink.href = '#';\n  previousPageLink.textContent = '<';\n  previousPageLink.addEventListener('click', () => {\n    if (currentPage > 1) {\n      currentPage--;\n      displayFilms(currentPage);\n    }\n  });\n  previousPageItem.appendChild(previousPageLink);\n  pagination.appendChild(previousPageItem);\n\n  // Dodaj numery stron\n  for (let i = startPage; i <= endPage; i++) {\n    const pageItem = document.createElement('li');\n    pageItem.classList.add('page-item');\n    if (i === currentPage) {\n      pageItem.classList.add('active');\n    }\n\n    const pageLink = document.createElement('a');\n    pageLink.classList.add('page-link');\n    pageLink.href = '#';\n    pageLink.textContent = i;\n    pageLink.addEventListener('click', () => {\n      currentPage = i;\n      displayFilms(currentPage);\n    });\n\n    pageItem.appendChild(pageLink);\n    pagination.appendChild(pageItem);\n  }\n\n  // Dodaj strzałkę \"Następna\"\n  const nextPageItem = document.createElement('li');\n  nextPageItem.classList.add('page-item');\n  if (currentPage === totalPages) {\n    nextPageItem.classList.add('disabled');\n  }\n  const nextPageLink = document.createElement('a');\n  nextPageLink.classList.add('page-link');\n  nextPageLink.href = '#';\n  nextPageLink.textContent = '>';\n  nextPageLink.addEventListener('click', () => {\n    if (currentPage < totalPages) {\n      currentPage++;\n      displayFilms(currentPage);\n    }\n  });\n  nextPageItem.appendChild(nextPageLink);\n  pagination.appendChild(nextPageItem);\n}\n\ndisplayFilms(currentPage);\n"],"names":["$bpxeT","parcelRequire","$8b439c4fc4a89713$var$filmsContainer","document","getElementById","$8b439c4fc4a89713$var$pagination","$8b439c4fc4a89713$var$currentPage","$8b439c4fc4a89713$var$displayFilms","page","$8b439c4fc4a89713$var$_displayFilms","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","response","films","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","film","filmTileHTML","$9fbQx","getTrendingFilms","_ctx","sent","results","console","log","innerHTML","undefined","Symbol","iterator","next","done","value","$xTqOg","makeSingleFilmTile","insertAdjacentHTML","t0","return","$8b439c4fc4a89713$var$createPagination","total_pages","error","t1","totalPages","pageItem","createElement","classList","add","i","pageLink","href","textContent","addEventListener","appendChild","startPage","endPage","Math","max","min","previousPageItem","previousPageLink","i1","_loop","nextPageItem","nextPageLink"],"version":3,"file":"index.fa9e50f0.js.map"}