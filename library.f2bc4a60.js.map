{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,uCAKA,MAAMC,EAAaC,SAASC,cAAc,gBACpCC,EAAWF,SAASC,cAAc,cAExCE,eAAeC,EAAeC,GAC1B,IAIE,aAHuBR,EAAAS,QAAMC,IAC3B,sCAAsCF,aAAkBG,EAAAC,WAE1CC,I,CAChB,MAAOC,GAGP,OAFAC,EAAAC,OAAOC,QAAQ,sDACRC,QAACJ,MAAM,4CAA6CA,GACpD,I,EAIb,MAAMK,EAAWC,KAAKC,MAAMC,aAAaC,QAAQ,iBAC3CC,EAAWJ,KAAKC,MAAMC,aAAaC,QAAQ,eAEjDpB,SAASsB,iBAAiB,oBAAoBnB,UAC1C,MAAMoB,EAAUvB,SAASC,cAAc,mBAClCsB,GAILxB,EAAWuB,iBAAiB,SAASnB,UACnCoB,EAAQC,UAAY,GACpBtB,EAASuB,UAAUC,OAAO,cAC1B3B,EAAW0B,UAAUE,IAAI,cACzB,IAAK,MAAMC,KAAWZ,EAAU,CAC5B,MAAMa,QAAoBzB,EAAewB,GACzC,GAAIC,EAAa,CACb,MAAMC,QAAiB,EAAAtB,EAAAuB,oBAAmBF,GAC1CN,EAAQC,WAAaM,C,MAIjC5B,EAASoB,iBAAiB,SAASnB,UACjCoB,EAAQC,UAAY,GACpBzB,EAAW0B,UAAUC,OAAO,cAC5BxB,EAASuB,UAAUE,IAAI,cACvB,IAAK,MAAMC,KAAWP,EAAU,CAC5B,MAAMQ,QAAoBzB,EAAewB,GACzC,GAAIC,EAAa,CACb,MAAMC,QAAiB,EAAAtB,EAAAuB,oBAAmBF,GAC1CN,EAAQC,WAAaM,C,OAvBzBf,QAAQJ,MAAM,8BA0BlB","sources":["src/scripts/library.mjs"],"sourcesContent":["import axios from \"axios\";\nimport { Notify } from \"notiflix\";\nimport { apiKey } from \"./make_single_tile.mjs\";\nimport { makeSingleFilmTile } from \"./make_single_tile.mjs\";\n\nconst watchedBtn = document.querySelector(\".watched-btn\");\nconst queueBtn = document.querySelector(\".queue-btn\");\n\nasync function getFilmDetails(filmId) {\n    try {\n      const response = await axios.get(\n        `https://api.themoviedb.org/3/movie/${filmId}?api_key=${apiKey}`\n      );\n      return response.data;\n    } catch (error) {\n      Notify.failure('Wystąpił błąd podczas pobierania szczegółów filmu.');\n      console.error('Błąd podczas pobierania szczegółów filmu:', error);\n      return null;\n    }\n  }\n\nconst watchArr = JSON.parse(localStorage.getItem('watchedFilms'));\nconst queueArr = JSON.parse(localStorage.getItem('queueFilms'));\n\ndocument.addEventListener(\"DOMContentLoaded\", async () => {\n    const gallery = document.querySelector(\".movies-gallery\");\n    if (!gallery) {\n        console.error(\"Target container not found.\");\n        return;\n    }\n    watchedBtn.addEventListener(\"click\", async () => {\n      gallery.innerHTML = \"\";\n      queueBtn.classList.remove(\"active-btn\");\n      watchedBtn.classList.add(\"active-btn\");\n      for (const element of watchArr) {\n          const filmDetails = await getFilmDetails(element);\n          if (filmDetails) {\n              const filmTile = await makeSingleFilmTile(filmDetails);\n              gallery.innerHTML += filmTile;\n          }\n      }\n  });\n  queueBtn.addEventListener(\"click\", async () => {\n    gallery.innerHTML = \"\";\n    watchedBtn.classList.remove(\"active-btn\");\n    queueBtn.classList.add(\"active-btn\");\n    for (const element of queueArr) {\n        const filmDetails = await getFilmDetails(element);\n        if (filmDetails) {\n            const filmTile = await makeSingleFilmTile(filmDetails);\n            gallery.innerHTML += filmTile;\n        }\n    }\n  });\n});"],"names":["$2shzp","parcelRequire","$b802e705b04335a7$var$watchedBtn","document","querySelector","$b802e705b04335a7$var$queueBtn","async","$b802e705b04335a7$var$getFilmDetails","filmId","default","get","$4v6BD","apiKey","data","error","$1GAPJ","Notify","failure","console","$b802e705b04335a7$var$watchArr","JSON","parse","localStorage","getItem","$b802e705b04335a7$var$queueArr","addEventListener","gallery","innerHTML","classList","remove","add","element","filmDetails","filmTile","makeSingleFilmTile"],"version":3,"file":"library.f2bc4a60.js.map"}