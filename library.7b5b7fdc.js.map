{"mappings":"iiBAAA,IAAAA,EAAAC,EAAA,S,oDAKMC,G,aAAaC,SAASC,cAAc,iBACpCC,EAAWF,SAASC,cAAc,c,SAEzBE,EAAeC,G,OAAfC,EAAcC,MAAAC,KAAAC,U,UAAdH,I,OAAAA,EAAfI,EAAAZ,EAAA,CAAAY,EAAAC,GAAAC,MAAA,SAAAC,EAA8BR,G,IAElBS,E,2FAAiBC,EAAAC,QAAMC,IAC3B,sCAAwDC,OAAlBb,EAAO,aAAkBa,OAAPC,EAAAC,S,cADpDN,EAAQO,EAAAC,K,kBAGPR,EAASS,M,uCAEhBC,EAAAC,OAAOC,QAAQ,sDACRC,QAACC,MAAM,4CAA2CP,EAAAQ,I,kBAClD,M,0DATgBtB,MAAAC,KAAAC,U,CAa7B,IAAMqB,EAAWC,KAAKC,MAAMC,aAAaC,QAAQ,iBAC3CC,EAAWJ,KAAKC,MAAMC,aAAaC,QAAQ,eAEjDjC,SAASmC,iBAAiB,mBAAoB1B,EAAAZ,EAAA,CAAAY,EAAAC,GAAAC,MAAA,SAAAyB,I,IACpCC,E,qEAAAA,EAAUrC,SAASC,cAAc,mBAC3B,C,sBACRyB,QAAQC,MAAM,+B,0BAGlB5B,EAAWoC,iBAAiB,QAAS1B,EAAAZ,EAAA,CAAAY,EAAAC,GAAAC,MAAA,SAAAC,I,IAI9B0B,EAAAC,EAAAC,EAAAC,EAAAC,EAAMC,EACDC,EAEIC,E,kEANdR,EAAQS,UAAY,GACpB5C,EAAS6C,UAAUC,OAAO,cAC1BjD,EAAWgD,UAAUE,IAAI,cACpBX,GAAa,EAAbC,GAAa,EAAbC,OAAaU,E,SAAbT,EAAiBZ,EAAQsB,OAAAC,Y,UAAzBd,GAAAI,EAAAD,EAAaY,QAAAC,KAAA,C,uBAAPX,EAAND,EAAaa,M,UACYpD,EAAewC,G,aAAnCC,EAAWxB,EAAAC,MACF,C,kCACY,EAAAH,EAAAsC,oBAAmBZ,G,QAApCC,EAAQzB,EAAAC,KACdgB,EAAQS,WAAaD,E,QAJxBP,GAAa,E,yEAAbC,GAAa,EAAbC,EAAapB,EAAAQ,G,4BAAbU,GAAa,MAAbG,EAAagB,QAAbhB,EAAagB,S,sBAAblB,EAAa,C,sBAAbC,E,qIAQTtC,EAASiC,iBAAiB,QAAS1B,EAAAZ,EAAA,CAAAY,EAAAC,GAAAC,MAAA,SAAAC,I,IAI5B0B,EAAAC,EAAAC,EAAAC,EAAAC,EAAMC,EACDC,EAEIC,E,kEANdR,EAAQS,UAAY,GACpB/C,EAAWgD,UAAUC,OAAO,cAC5B9C,EAAS6C,UAAUE,IAAI,cAClBX,GAAa,EAAbC,GAAa,EAAbC,OAAaU,E,SAAbT,EAAiBP,EAAQiB,OAAAC,Y,UAAzBd,GAAAI,EAAAD,EAAaY,QAAAC,KAAA,C,uBAAPX,EAAND,EAAaa,M,UACYpD,EAAewC,G,aAAnCC,EAAWxB,EAAAC,MACF,C,kCACY,EAAAH,EAAAsC,oBAAmBZ,G,QAApCC,EAAQzB,EAAAC,KACdgB,EAAQS,WAAaD,E,QAJxBP,GAAa,E,yEAAbC,GAAa,EAAbC,EAAapB,EAAAQ,G,4BAAbU,GAAa,MAAbG,EAAagB,QAAbhB,EAAagB,S,sBAAblB,EAAa,C,sBAAbC,E","sources":["src/scripts/library.mjs"],"sourcesContent":["import axios from \"axios\";\nimport { Notify } from \"notiflix\";\nimport { apiKey } from \"./make_single_tile.mjs\";\nimport { makeSingleFilmTile } from \"./make_single_tile.mjs\";\n\nconst watchedBtn = document.querySelector(\".watched-btn\");\nconst queueBtn = document.querySelector(\".queue-btn\");\n\nasync function getFilmDetails(filmId) {\n    try {\n      const response = await axios.get(\n        `https://api.themoviedb.org/3/movie/${filmId}?api_key=${apiKey}`\n      );\n      return response.data;\n    } catch (error) {\n      Notify.failure('Wystąpił błąd podczas pobierania szczegółów filmu.');\n      console.error('Błąd podczas pobierania szczegółów filmu:', error);\n      return null;\n    }\n  }\n\nconst watchArr = JSON.parse(localStorage.getItem('watchedFilms'));\nconst queueArr = JSON.parse(localStorage.getItem('queueFilms'));\n\ndocument.addEventListener(\"DOMContentLoaded\", async () => {\n    const gallery = document.querySelector(\".movies-gallery\");\n    if (!gallery) {\n        console.error(\"Target container not found.\");\n        return;\n    }\n    watchedBtn.addEventListener(\"click\", async () => {\n      gallery.innerHTML = \"\";\n      queueBtn.classList.remove(\"active-btn\");\n      watchedBtn.classList.add(\"active-btn\");\n      for (const element of watchArr) {\n          const filmDetails = await getFilmDetails(element);\n          if (filmDetails) {\n              const filmTile = await makeSingleFilmTile(filmDetails);\n              gallery.innerHTML += filmTile;\n          }\n      }\n  });\n  queueBtn.addEventListener(\"click\", async () => {\n    gallery.innerHTML = \"\";\n    watchedBtn.classList.remove(\"active-btn\");\n    queueBtn.classList.add(\"active-btn\");\n    for (const element of queueArr) {\n        const filmDetails = await getFilmDetails(element);\n        if (filmDetails) {\n            const filmTile = await makeSingleFilmTile(filmDetails);\n            gallery.innerHTML += filmTile;\n        }\n    }\n  });\n});"],"names":["$bpxeT","parcelRequire","$098fa886240a5a9a$var$watchedBtn","document","querySelector","$098fa886240a5a9a$var$queueBtn","$098fa886240a5a9a$var$getFilmDetails","filmId","$098fa886240a5a9a$var$_getFilmDetails","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","response","$dIxxU","default","get","concat","$xTqOg","apiKey","_ctx","sent","data","$ejkSG","Notify","failure","console","error","t0","$098fa886240a5a9a$var$watchArr","JSON","parse","localStorage","getItem","$098fa886240a5a9a$var$queueArr","addEventListener","_callee1","gallery","_iteratorNormalCompletion","_didIteratorError","_iteratorError","_iterator","_step","element","filmDetails","filmTile","innerHTML","classList","remove","add","undefined","Symbol","iterator","next","done","value","makeSingleFilmTile","return"],"version":3,"file":"library.7b5b7fdc.js.map"}