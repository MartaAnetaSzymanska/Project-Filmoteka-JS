{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,aAGA,MAAMC,EAAiBC,SAASC,eAAe,mBACzCC,EAAaF,SAASC,eAAe,cAG3C,IAAIE,EAAc,EAElBC,eAAeC,EAAaC,GAC1B,IACE,MAAMC,QAAiB,EAAAV,EAAAW,kBAAiBF,GAClCG,EAAQF,EAASG,QACvBC,QAAQC,IAAIH,GACZV,EAAec,UAAY,GAE3B,IAAK,MAAMC,KAAQL,EAAO,CACxB,MAAMM,QAAqB,EAAAC,EAAAC,oBAAmBH,GAC9Cf,EAAemB,mBAAmB,YAAaH,E,EAUrD,SAA0BI,GACxBjB,EAAWW,UAAY,GAEpB,MAAGO,EAAY,EAEhB,IAAEC,EAAYlB,EAAciB,EAC1BE,EAAUnB,EAAciB,EAE5BC,EAAYE,KAAKC,IAAIH,EAAW,GAChCC,EAAUC,KAAKE,IAAIH,EAASH,GAG1B,MAAIO,EAAmB1B,SAAS2B,cAAc,MAChDD,EAAiBE,UAAUC,IAAI,aACX,IAAhB1B,GACFuB,EAAiBE,UAAUC,IAAI,YAEjC,MAAMC,EAAmB9B,SAAS2B,cAAc,KAChDG,EAAiBF,UAAUC,IAAI,aAC/BC,EAAiBC,KAAO,IACxBD,EAAiBE,YAAc,IAC/BF,EAAiBG,iBAAiB,SAAS,KACrC9B,EAAc,IAChBA,IACAE,EAAaF,G,IAGjBuB,EAAiBQ,YAAYJ,GAC7B5B,EAAWgC,YAAYR,GAGvB,IAAK,IAAIS,EAAId,EAAWc,GAAKb,EAASa,IAAK,CACzC,MAAMC,EAAWpC,SAAS2B,cAAc,MACxCS,EAASR,UAAUC,IAAI,aACnBM,IAAMhC,GACRiC,EAASR,UAAUC,IAAI,UAGzB,MAAMQ,EAAWrC,SAAS2B,cAAc,KACxCU,EAAST,UAAUC,IAAI,aACvBQ,EAASN,KAAO,IAChBM,EAASL,YAAcG,EACvBE,EAASJ,iBAAiB,SAAS,KACjC9B,EAAcgC,EACd9B,EAAaF,EAAY,IAG3BiC,EAASF,YAAYG,GACrBnC,EAAWgC,YAAYE,E,CAIzB,MAAME,EAAetC,SAAS2B,cAAc,MAC5CW,EAAaV,UAAUC,IAAI,aACvB1B,IAAgBgB,GAClBmB,EAAaV,UAAUC,IAAI,YAE7B,MAAMU,EAAevC,SAAS2B,cAAc,KAC5CY,EAAaX,UAAUC,IAAI,aAC3BU,EAAaR,KAAO,IACpBQ,EAAaP,YAAc,IAC3BO,EAAaN,iBAAiB,SAAS,KACjC9B,EAAcgB,IAChBhB,IACAE,EAAaF,G,IAGjBmC,EAAaJ,YAAYK,GACzBrC,EAAWgC,YAAYI,E,CA1ErBE,CADmBjC,EAASkC,Y,CAE5B,MAAOC,GACP/B,QAAQ+B,MAAM,2CAAgDA,E,EA2ElErC,EAAaF","sources":["src/scripts/pagination.mjs"],"sourcesContent":["import { getTrendingFilms } from './get-trending';\nimport { makeSingleFilmTile } from './make_single_tile.mjs';\n\nconst filmsContainer = document.getElementById('films-container');\nconst pagination = document.getElementById('pagination');\n\nconst pageSize = 10;\nlet currentPage = 1;\n\nasync function displayFilms(page) {\n  try {\n    const response = await getTrendingFilms(page);\n    const films = response.results;\n    console.log(films);\n    filmsContainer.innerHTML = '';\n\n    for (const film of films) {\n      const filmTileHTML = await makeSingleFilmTile(film);\n      filmsContainer.insertAdjacentHTML('beforeend', filmTileHTML);\n    }\n\n    const totalPages = response.total_pages;\n    createPagination(totalPages);\n  } catch (error) {\n    console.error('Wystąpił błąd podczas pobierania danych:', error);\n  }\n}\n\nfunction createPagination(totalPages) {\n  pagination.innerHTML = ''; // Wyczyści poprzednią paginację\n\n  const pageRange = 3; // Zakres numerów stron do wyświetlenia\n\n  let startPage = currentPage - pageRange;\n  let endPage = currentPage + pageRange;\n\n  startPage = Math.max(startPage, 1);\n  endPage = Math.min(endPage, totalPages);\n\n  // Dodaj strzałkę \"Poprzednia\"\n  const previousPageItem = document.createElement('li');\n  previousPageItem.classList.add('page-item');\n  if (currentPage === 1) {\n    previousPageItem.classList.add('disabled');\n  }\n  const previousPageLink = document.createElement('a');\n  previousPageLink.classList.add('page-link');\n  previousPageLink.href = '#';\n  previousPageLink.textContent = '<';\n  previousPageLink.addEventListener('click', () => {\n    if (currentPage > 1) {\n      currentPage--;\n      displayFilms(currentPage);\n    }\n  });\n  previousPageItem.appendChild(previousPageLink);\n  pagination.appendChild(previousPageItem);\n\n  // Dodaj numery stron\n  for (let i = startPage; i <= endPage; i++) {\n    const pageItem = document.createElement('li');\n    pageItem.classList.add('page-item');\n    if (i === currentPage) {\n      pageItem.classList.add('active');\n    }\n\n    const pageLink = document.createElement('a');\n    pageLink.classList.add('page-link');\n    pageLink.href = '#';\n    pageLink.textContent = i;\n    pageLink.addEventListener('click', () => {\n      currentPage = i;\n      displayFilms(currentPage);\n    });\n\n    pageItem.appendChild(pageLink);\n    pagination.appendChild(pageItem);\n  }\n\n  // Dodaj strzałkę \"Następna\"\n  const nextPageItem = document.createElement('li');\n  nextPageItem.classList.add('page-item');\n  if (currentPage === totalPages) {\n    nextPageItem.classList.add('disabled');\n  }\n  const nextPageLink = document.createElement('a');\n  nextPageLink.classList.add('page-link');\n  nextPageLink.href = '#';\n  nextPageLink.textContent = '>';\n  nextPageLink.addEventListener('click', () => {\n    if (currentPage < totalPages) {\n      currentPage++;\n      displayFilms(currentPage);\n    }\n  });\n  nextPageItem.appendChild(nextPageLink);\n  pagination.appendChild(nextPageItem);\n}\n\ndisplayFilms(currentPage);\n"],"names":["$2mSBZ","parcelRequire","$5bfb9c71cefe4d37$var$filmsContainer","document","getElementById","$5bfb9c71cefe4d37$var$pagination","$5bfb9c71cefe4d37$var$currentPage","async","$5bfb9c71cefe4d37$var$displayFilms","page","response","getTrendingFilms","films","results","console","log","innerHTML","film","filmTileHTML","$4v6BD","makeSingleFilmTile","insertAdjacentHTML","totalPages","pageRange","startPage","endPage","Math","max","min","previousPageItem","createElement","classList","add","previousPageLink","href","textContent","addEventListener","appendChild","i","pageItem","pageLink","nextPageItem","nextPageLink","$5bfb9c71cefe4d37$var$createPagination","total_pages","error"],"version":3,"file":"index.84d87263.js.map"}