{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,S,aAGAC,SAASC,iBAAiB,oBAAoB,KAC5C,MAAMC,EAAiBF,SAASG,eAAe,mBACzCC,EAAaJ,SAASG,eAAe,cAE3C,IAAKD,IAAmBE,EAItB,YAHAC,QAAQC,MACN,kEAMJ,IAAIC,EAAc,EAElBC,eAAeC,EAAaC,GAC1B,IACE,MAAMC,QAAiB,EAAAb,EAAAc,kBAAiBF,GAClCG,EAAQF,EAASG,QACvBT,QAAQU,IAAIF,GACZX,EAAec,UAAY,GAE3B,IAAK,MAAMC,KAAQJ,EAAO,CACxB,MAAMK,QAAqB,EAAAC,EAAAC,oBAAmBH,GAC9Cf,EAAemB,mBAAmB,YAAaH,E,EAUrD,SAA0BI,GACxBlB,EAAWY,UAAY,GAEvB,MAAMO,EAAY,EAElB,IAAIC,EAAYjB,EAAcgB,EAC1BE,EAAUlB,EAAcgB,EAE5BC,EAAYE,KAAKC,IAAIH,EAAW,GAChCC,EAAUC,KAAKE,IAAIH,EAASH,GAE5B,MAAMO,EAAmB7B,SAAS8B,cAAc,MAChDD,EAAiBE,UAAUC,IAAI,aACX,IAAhBzB,GACFsB,EAAiBE,UAAUC,IAAI,YAEjC,MAAMC,EAAmBjC,SAAS8B,cAAc,KAChDG,EAAiBF,UAAUC,IAAI,aAC/BC,EAAiBC,KAAO,IACxBD,EAAiBE,YAAc,IAC/BF,EAAiBhC,iBAAiB,SAAUmC,IAC1CA,EAAMC,iBACF9B,EAAc,IAChBA,IACAE,EAAaF,G,IAGjBsB,EAAiBS,YAAYL,GAC7B7B,EAAWkC,YAAYT,GAEvB,IAAK,IAAIU,EAAIf,EAAWe,GAAKd,EAASc,IAAK,CACzC,MAAMC,EAAWxC,SAAS8B,cAAc,MACxCU,EAAST,UAAUC,IAAI,aACnBO,IAAMhC,GACRiC,EAAST,UAAUC,IAAI,UAGzB,MAAMS,EAAWzC,SAAS8B,cAAc,KACxCW,EAASV,UAAUC,IAAI,aACvBS,EAASP,KAAO,IAChBO,EAASN,YAAcI,EACvBE,EAASxC,iBAAiB,SAAUmC,IAClCA,EAAMC,iBACN9B,EAAcgC,EACd9B,EAAaF,EAAY,IAG3BiC,EAASF,YAAYG,GACrBrC,EAAWkC,YAAYE,E,CAGzB,MAAME,EAAe1C,SAAS8B,cAAc,MAC5CY,EAAaX,UAAUC,IAAI,aACvBzB,IAAgBe,GAClBoB,EAAaX,UAAUC,IAAI,YAE7B,MAAMW,EAAe3C,SAAS8B,cAAc,KAC5Ca,EAAaZ,UAAUC,IAAI,aAC3BW,EAAaT,KAAO,IACpBS,EAAaR,YAAc,IAC3BQ,EAAa1C,iBAAiB,SAAUmC,IACtCA,EAAMC,iBACF9B,EAAce,IAChBf,IACAE,EAAaF,G,IAGjBmC,EAAaJ,YAAYK,GACzBvC,EAAWkC,YAAYI,E,CA1ErBE,CADmBjC,EAASkC,Y,CAE5B,MAAOvC,GACPD,QAAQC,MAAM,2CAA4CA,E,EA2E9DG,EAAaF,EAAY","sources":["src/scripts/pagination.mjs"],"sourcesContent":["import { getTrendingFilms } from './get-trending';\nimport { makeSingleFilmTile } from './make_single_tile';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const filmsContainer = document.getElementById('films-container');\n  const pagination = document.getElementById('pagination');\n\n  if (!filmsContainer || !pagination) {\n    console.error(\n      'Cannot find elements with id \"films-container\" or \"pagination\"'\n    );\n    return;\n  }\n\n  const pageSize = 20;\n  let currentPage = 1;\n\n  async function displayFilms(page) {\n    try {\n      const response = await getTrendingFilms(page);\n      const films = response.results;\n      console.log(films);\n      filmsContainer.innerHTML = '';\n\n      for (const film of films) {\n        const filmTileHTML = await makeSingleFilmTile(film);\n        filmsContainer.insertAdjacentHTML('beforeend', filmTileHTML);\n      }\n\n      const totalPages = response.total_pages;\n      createPagination(totalPages);\n    } catch (error) {\n      console.error('Wystąpił błąd podczas pobierania danych:', error);\n    }\n  }\n\n  function createPagination(totalPages) {\n    pagination.innerHTML = '';\n\n    const pageRange = 2;\n\n    let startPage = currentPage - pageRange;\n    let endPage = currentPage + pageRange;\n\n    startPage = Math.max(startPage, 1);\n    endPage = Math.min(endPage, totalPages);\n\n    const previousPageItem = document.createElement('li');\n    previousPageItem.classList.add('page-item');\n    if (currentPage === 1) {\n      previousPageItem.classList.add('disabled');\n    }\n    const previousPageLink = document.createElement('a');\n    previousPageLink.classList.add('page-link');\n    previousPageLink.href = '#';\n    previousPageLink.textContent = '<';\n    previousPageLink.addEventListener('click', (event) => {\n      event.preventDefault();\n      if (currentPage > 1) {\n        currentPage--;\n        displayFilms(currentPage);\n      }\n    });\n    previousPageItem.appendChild(previousPageLink);\n    pagination.appendChild(previousPageItem);\n\n    for (let i = startPage; i <= endPage; i++) {\n      const pageItem = document.createElement('li');\n      pageItem.classList.add('page-item');\n      if (i === currentPage) {\n        pageItem.classList.add('active');\n      }\n\n      const pageLink = document.createElement('a');\n      pageLink.classList.add('page-link');\n      pageLink.href = '#';\n      pageLink.textContent = i;\n      pageLink.addEventListener('click', (event) => {\n        event.preventDefault();\n        currentPage = i;\n        displayFilms(currentPage);\n      });\n\n      pageItem.appendChild(pageLink);\n      pagination.appendChild(pageItem);\n    }\n\n    const nextPageItem = document.createElement('li');\n    nextPageItem.classList.add('page-item');\n    if (currentPage === totalPages) {\n      nextPageItem.classList.add('disabled');\n    }\n    const nextPageLink = document.createElement('a');\n    nextPageLink.classList.add('page-link');\n    nextPageLink.href = '#';\n    nextPageLink.textContent = '>';\n    nextPageLink.addEventListener('click', (event) => {\n      event.preventDefault();\n      if (currentPage < totalPages) {\n        currentPage++;\n        displayFilms(currentPage);\n      }\n    });\n    nextPageItem.appendChild(nextPageLink);\n    pagination.appendChild(nextPageItem);\n  }\n\n  displayFilms(currentPage);\n});\n"],"names":["$2mSBZ","parcelRequire","document","addEventListener","filmsContainer","getElementById","pagination","console","error","currentPage","async","displayFilms","page","response","getTrendingFilms","films","results","log","innerHTML","film","filmTileHTML","$4v6BD","makeSingleFilmTile","insertAdjacentHTML","totalPages","pageRange","startPage","endPage","Math","max","min","previousPageItem","createElement","classList","add","previousPageLink","href","textContent","event","preventDefault","appendChild","i","pageItem","pageLink","nextPageItem","nextPageLink","createPagination","total_pages"],"version":3,"file":"index.d40dfdfb.js.map"}